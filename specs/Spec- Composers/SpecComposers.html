<html><head><title>Spec: Composers</title></head><body style="max-width:468pt;background-color:#d9d9d9;padding:72pt 72pt 72pt 72pt"><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:14pt;font-weight:bold"></span></p><a href="#" name="53b477f52bc7d0f14ac5f986d3e859d8edcf636d"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" style="border-collapse:collapse"><tbody><tr><td style="vertical-align:top;width:343.5pt;border-style:solid;border-color:#b7b7b7;border-width:1pt;padding:5pt 5pt 5pt 5pt"><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:18pt;font-weight:bold">Composers</span></p></td><td style="vertical-align:top;width:124.5pt;border-style:solid;border-color:#b7b7b7;border-width:1pt;padding:5pt 5pt 5pt 5pt"><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="vertical-align:super;text-decoration:underline">Editor</span><span>&nbsp;Heather Douglass</span></p></td></tr></tbody></table><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:14pt;font-weight:bold"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:14pt;font-weight:bold">Index</span></p><p style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:18pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#000099;text-decoration:underline"><a href="#h.19uopb757udz" style="color:inherit;text-decoration:inherit">Introduction</a></span></p><p style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:18pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#000099;text-decoration:underline"><a href="#h.5h0ym5gvhxdq" style="color:inherit;text-decoration:inherit">Functional Description</a></span></p><p style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:18pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#000099;text-decoration:underline"><a href="#h.rmptzwuxiuua" style="color:inherit;text-decoration:inherit">API</a></span></p><p style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:18pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#000099;text-decoration:underline"><a href="#h.60rjnnccp5ma" style="color:inherit;text-decoration:inherit">Examples</a></span></p><p style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:18pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#000099;text-decoration:underline"><a href="#h.178na9dwjesv" style="color:inherit;text-decoration:inherit">Concerns</a></span></p><p><span></span></p><h3 style="padding-left:0;padding-right:0;line-height:1.15;padding-top:14pt;color:#000000;text-align:left;direction:ltr;font-size:14pt;margin:0;font-family:&quot;Arial&quot;;font-weight:bold;padding-bottom:4pt"><a name="h.19uopb757udz"></a><span>Introduction</span></h3><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Composers are Montage objects which listen to events in order to aggregate those events into higher order events and to supply calculations based on events.</span></p><h3 style="padding-left:0;padding-right:0;line-height:1.15;padding-top:14pt;color:#000000;text-align:left;direction:ltr;font-size:14pt;margin:0;font-family:&quot;Arial&quot;;font-weight:bold;padding-bottom:4pt"><a name="h.5h0ym5gvhxdq"></a><span>Functional Description</span></h3><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Composers generally fall into two categories, first, composers that aggregate events into higher order custom events which the composer dispatches such as a long press composer. &nbsp;Second, composers that listen to events and then perform calculations based on those events. &nbsp;Components can then use the composer&rsquo;s calculations to perform actions, such as a scroller component using a translate composer for its translation, bounce and momentum calculations. &nbsp;Composer objects can implement their own configuration options and dispatch custom events. &nbsp;These custom events and configuration options are part of the documentation for specific composers.</span></p><h3 style="padding-left:0;padding-right:0;line-height:1.15;padding-top:14pt;color:#000000;text-align:left;direction:ltr;font-size:14pt;margin:0;font-family:&quot;Arial&quot;;font-weight:bold;padding-bottom:4pt"><a name="h.rmptzwuxiuua"></a><span>API</span></h3><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>API on Component</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">addComposer(composer)</span><span>&nbsp;- adds the specified composer to the component and defaults the element of the composer to the component&rsquo;s element if there is no element yet, if the composer already has an element it uses that element</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">addComposerForElement(composer, element)</span><span>&nbsp;- adds the specified composer to the component and uses the passed in element for the composer</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">removeComposer(composer)</span><span>&nbsp;- removes the specified composer from the component</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">clearComposers()</span><span>&nbsp;- removes all composers from a component</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">scheduleComposer(composer)</span><span>&nbsp;- adds the passed in composer to the root list of composers which will have their frame method called during the next draw cycle, component developers can override this method to block the scheduling of a composer if desired but should remember to call the prototype method when they do actually want to schedule.</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Example of blocking a schedule: </span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>my-special-component.js</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">var Montage = require(&ldquo;montage&rdquo;).Montage,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; Component = require(&ldquo;montage/ui/component&rdquo;).Component;</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">exports.MySpecialComponent = Montage.create(Component, {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheduleComposer: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: function(composer) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (this._shouldAllowComposer) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Component.scheduleComposer(composer);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>API for Composers</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">needsFrame</span><span>&nbsp;- this property should be set to true every time that the composer needs its </span><span style="font-style:italic">f</span><span style="font-style:italic">ra</span><span style="font-style:italic">me</span><span>&nbsp;method called during the next draw cycle</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">frame(timestamp)</span><span>&nbsp;- this function will be called by the framework if the composer&rsquo;s associated component can draw during the draw cycle so that the composer can compute values for animation, </span><span style="font-style:italic">timestamp </span><span>is the current frame time as provided by the requestAnimationFrame API if available, or Date.now when the draw cycle was started if rAF is not available, this function will be called before any draw methods of any components this means that if the calculations performed in this function cause a component to set needsDraw to true then that component will be drawn in the same draw cycle, if this method sets needsFrame to true for itself this will cause another draw cycle to be scheduled and executed</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>needsFrame,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>needsRecompute, recompute</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>needsComputeBeforeDraw, computeBeforeDraw</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>needsPreDraw, preDraw</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">lazyLoad </span><span>- This is a boolean property which controls when the load method is called for a composer. &nbsp;The default value is false, which means that a composer will call its load method as soon as possible after addComposer, i.e. if it&rsquo;s associated component has not drawn yet, then the next draw loop. &nbsp;If the component has already drawn at least once then the load method will be called immediately. &nbsp;The load method of a composer could contain many event listeners so for performance reasons a developer may want to delay loading of the composer until </span><span style="font-style:italic">prepareForActivationEvents</span><span>&nbsp;is triggered on the associated component. &nbsp;Setting lazyLoad to true will cause load to be called as part of prepareForActivationEvents. &nbsp;If prepareForActivationEvents has already been called then load will be called right away.</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">load()</span><span>&nbsp;- method called by the framework when a composer is added to a component, composers can add listeners for any events that are need to trigger its logic</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-style:italic">unload()</span><span>&nbsp;- method called by the framework when a composer is removed from a component, a composer should use this method for any clean up such as removing event listeners</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Different types of composers will end up implementing different parts of the composer API. &nbsp;For example a long press composer would end up only implementing load and unload where as a translate composer that wants to calculate values which could be used for animation would have to implement all three methods.</span></p><h3 style="padding-left:0;padding-right:0;line-height:1.15;padding-top:14pt;color:#000000;text-align:left;direction:ltr;font-size:14pt;margin:0;font-family:&quot;Arial&quot;;font-weight:bold;padding-bottom:4pt"><a name="h.60rjnnccp5ma"></a><span>Examples</span></h3><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Example of purely aggregating events to send a higher level event: long-press-composer</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">var Montage = require(&quot;montage&quot;).Montage,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; Composer = require(&quot;ui/composer/composer&quot;).Composer;</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">exports.LongPressComposer = Montage.create(Composer, {</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">load</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function (element) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element = element;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (window.Touch) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; element.addEventListener(&quot;touchstart&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; element.addEventListener(&quot;touchmove&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; element.addEventListener(&quot;touchend&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; element.addEventListener(&quot;mousedown&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">unload</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function () {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (window.Touch) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.removeEventListener(&quot;touchstart&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.removeEventListener(&quot;touchmove&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.removeEventListener(&quot;touchend&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.removeEventListener(&quot;mousedown&quot;, this);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Dispatch the aggregated event</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">_dispatchLongPress: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function (target) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; longPressEvent = document.createEvent(&quot;CustomEvent&quot;);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; longPressEvent.clientX = this._X;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; longPressEvent.clientY = this._Y;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; longPressEvent.identifier = this._fingerId;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; longPressEvent.initCustomEvent(&quot;longpress&quot;, true, true, null);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.dispatchEvent(longPressEvent);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._clearLongpress(target);</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">...logic to implement long press...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Using the long-press-composer in an app</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">var Montage = require(&quot;montage&quot;).Montage,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; Component = require(&quot;montage/ui/component&quot;).Component,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">LongPressComposer = require(&quot;montage/ui/composer/long-press-composer&quot;).LongPressComposer</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">;</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">exports.Calculator = Montage.create(Component, {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">prepareForDraw: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function() {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var memoryLongPressComposer, clearLongPressComposer, self = this;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">memoryLongPressComposer = LongPressComposer.create()</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.</span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">addComposerForElement</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">(memoryLongPressComposer, this.memoryClearButton.element);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">memoryLongPressComposer.addEventListener(&quot;longpress&quot;</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">, function(event) {self.handleLongpressMemoryClear(event);}, false);</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">clearLongPressComposer = LongPressComposer.create()</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.</span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">addComposerForElement</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">(clearLongPressComposer, this.clearButton.element);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">clearLongPressComposer.addEventListener(&quot;longpress&quot;</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">, function(event) {</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">self.handleLongpressClear(event);</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">}, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; }, ...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Example that includes calculations for animations: translate-composer</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">var Montage = require(&quot;montage&quot;).Montage,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; Composer = require(&quot;ui/composer/composer&quot;).Composer,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; defaultEventManager = require(&quot;core/event/event-manager&quot;).defaultEventManager;</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">exports.TranslateComposer = Montage.create(Composer, {</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Variables to store translation state</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Components that want to use these calculations can bind</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// to this state</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_translateX: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; enumerable: false,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: 0</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translateX: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; get: function () {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this._translateX;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; set: function (value) {</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...Other variables for tracking state...</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Implement animation logic</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">frame</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function(timestamp) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (this.isAnimating) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._animationInterval();</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._externalUpdate = false;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">_animationInterval= {</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">value: function () {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ...logic to determine animation calculations...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (self.isAnimating) {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">self.needsFrame=true</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">; // request another frame</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._dispatchScrollEnd();</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">}</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">},</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">load</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">: {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">value: function(element) {</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">this._element = element;</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; if (window.Touch) {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this._element.addEventListener(&quot;touchstart&quot;, this, true);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.addEventListener(&quot;touchstart&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; } else {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this._element.addEventListener(&quot;mousedown&quot;, this, true);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.addEventListener(&quot;mousedown&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._element.addEventListener(&quot;mousewheel&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; }</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">this.eventManager.isStoringPointerEvents = true;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp;}</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">},</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">unload</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">: {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: function() {</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">if (window.Touch) {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this._element.removeEventListener(&quot;touchstart&quot;, this, true);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this._element.removeEventListener(&quot;touchstart&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; } else {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this._element.removeEventListener(&quot;mousedown&quot;, this, true);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this._element.removeEventListener(&quot;mousedown&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this._element.removeEventListener(&quot;mousewheel&quot;, this, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; }</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">this.eventManager.isStoringPointerEvents = false;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Example using translate-composer for a scroller</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span><br></span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">var Montage = require(&quot;montage&quot;).Montage,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; Component = require(&quot;ui/component&quot;).Component</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">TranslateComposer = require(&quot;ui/composer/translate-composer&quot;).TranslateComposer</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">;</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">exports.Scroller = Montage.create(Component, {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">...other scroller logic...</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">prepareForDraw: {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; value: function () {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var self = this;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Create the TranslateComposer</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">this._scroll = TranslateComposer.create()</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Add the composer to this component</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.</span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">addComposer</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">(this._scroll);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Define bindings between the composer and this component</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:72pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// in order to use the calculations</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Object.defineBinding(this._scroll, &quot;translateX&quot;, {boundObject: this, boundObjectPropertyPath: &quot;scrollX&quot;, oneway: false});</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Object.defineBinding(this._scroll, &quot;translateY&quot;, {boundObject: this, boundObjectPropertyPath: &quot;scrollY&quot;, oneway: false});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Configure the composer with appropriate values</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.axis = this.axis;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.hasBouncing = this.hasBouncing;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.hasMomentum = this.hasMomentum;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.bouncingDuration = this.bouncingDuration;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.momentumDuration = this.momentumDuration;</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ff00ff;font-size:10pt;font-family:&quot;Courier New&quot;">// Listen for custom events that the composer dispatches</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.addEventListener(&quot;scrollStart&quot;, function () {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self._scrollBars.opacity = .5;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this._scroll.addEventListener(&quot;scrollEnd&quot;, function () {</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self._scrollBars.opacity = 0;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, false);</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; },</span></p><p style="text-indent:36pt;height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">...other scroller logic...</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">});</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>Example using translate-composer for flow input</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>flow-test.html</span></p><p style="height:11pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;"></span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&lt;script type=&quot;text/montage-serialization&quot;&gt;</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&quot;</span><span style="color:#0000ff;font-size:10pt;font-family:&quot;Courier New&quot;">translateComposer1</span><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;module&quot;: &quot;montage/ui/composer/translate-composer&quot;,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;name&quot;: &quot;TranslateComposer&quot;,</span></p><p style="margin-right:0;text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&quot;properties&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;component&quot;: {&quot;@&quot;: &quot;flow1&quot;}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;bindings&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;maxTranslateX&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;boundObject&quot;: {&quot;@&quot;: &quot;flow1&quot;},</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;boundObjectPropertyPath&quot;: &quot;length&quot;,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;oneway&quot;: true</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;translateX&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;boundObject&quot;: {&quot;@&quot;: &quot;flow1&quot;},</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;boundObjectPropertyPath&quot;: &quot;origin&quot;</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;flow1&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;module&quot;: &quot;montage/ui/flow.reel&quot;,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;name&quot;: &quot;Flow&quot;,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;properties&quot;: {</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;element&quot;: {&quot;#&quot;: &quot;flow&quot;},</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;objects&quot;: [...],</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cameraRotationAxisX&quot;: 1,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cameraRotationAxisY&quot;: 0,</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;cameraRotationAxisZ&quot;: 0</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;bindings&quot;: {...}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="text-indent:36pt;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">}</span></p><p style="color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span style="font-size:10pt;font-family:&quot;Courier New&quot;">&lt;/script&gt;</span></p><h3 style="padding-left:0;padding-right:0;line-height:1.15;padding-top:14pt;color:#000000;text-align:left;direction:ltr;font-size:14pt;margin:0;font-family:&quot;Arial&quot;;font-weight:bold;padding-bottom:4pt"><a name="h.178na9dwjesv"></a><span>Concerns</span></h3><ol start="1" style="list-style-type:disc;margin:0;padding:0"><li style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span>Combining too many things into one feature (event aggregation and animations)</span></li><li style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span>Should one composer instance be usable by many components?</span><sup><a href="#cmnt1" name="cmnt_ref1">[a]</a></sup></li><li style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span>prepareForActivationEvents?</span></li><li style="margin-right:0;color:#000000;direction:ltr;font-size:11pt;margin-left:36pt;margin-bottom:0;font-family:&quot;Arial&quot;;margin-top:0;padding:0"><span>claimedPointer logic?</span></li></ol><div style="margin:5px;border:1px solid black"><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><a href="#cmnt_ref1" name="cmnt1">[a]</a><span>crqd74:</span></p><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>It would be reusable if tearDown had been called on it first. We could just test if the component property is null or not when it is added.</span></p><hr><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>gfj678:</span></p><p style="line-height:1.0;color:#000000;direction:ltr;font-size:11pt;margin:0;font-family:&quot;Arial&quot;;padding:0"><span>I was thinking more of two different components using values from the same composer at the same time -- see flow-test5.html. &nbsp;It works now but more by accident than by design.</span></p></div></body></html>